(this.webpackJsonpcovidfront=this.webpackJsonpcovidfront||[]).push([[0],{237:function(e,t,a){e.exports=a(397)},242:function(e,t,a){},243:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),i=a(124),r=a.n(i),l=(a(242),a(243),a(20)),s=a(11),c=a.n(s),d=a(60),m=a(12),u=a(13),p=a(85),h=a(86),v=a(17),g=a(126),f=a.n(g),E=a(188),b=a.n(E);function y(e,t){return Math.round(Math.abs((e-t)/864e5))}function C(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[a,t,n].join("/")}function S(e,t){var a=new Date(e.valueOf());return a.setDate(a.getDate()+t),a}var D={lastUpdate:{color:"#949494",fontSize:".6em"},cityName:{fontSize:"1em"},dataValue:{color:"#3b3b3b",fontSize:".9em"}},w=function(e){var t=e.name,a=e.state,n=e.date,i=e.cases,r=e.deaths;return o.a.createElement("div",{className:"cityListItem"},o.a.createElement("span",{style:D.lastUpdate},"\xdaltima atualiza\xe7\xe3o ",C(n)),o.a.createElement("br",null),o.a.createElement("span",{style:D.cityName},o.a.createElement("b",null,t,"/",a)),o.a.createElement("br",null),o.a.createElement("span",{style:D.dataValue},o.a.createElement("b",null,"Casos:")," ",i),o.a.createElement("span",null," | "),o.a.createElement("span",{style:D.dataValue},o.a.createElement("b",null,"\xd3bitos:")," ",r))};a(247);var k={MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiYWVzdCIsImEiOiJjazk1ejE3MnEwZzh4M2dwMndkMHhvZTQwIn0.kNcRxl_xTpzuf_vwz9_MtQ",BACKEND_URL:"https://cvid19-back.herokuapp.com",MAPBOX_ACCESS_TOKEN_LIST:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";if(e)return e.split(t)}(Object({NODE_ENV:"production",PUBLIC_URL:"/covid19-br-vis-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiYWVzdCIsImEiOiJjazk1ejE3MnEwZzh4M2dwMndkMHhvZTQwIn0.kNcRxl_xTpzuf_vwz9_MtQ",REACT_APP_BACKEND_URL:"https://cvid19-back.herokuapp.com"}).MAPBOX_ACCESS_TOKEN_LIST)},O=a(81);f.a.accessToken=k.MAPBOX_ACCESS_TOKEN;var x=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(m.a)(this,a),(n=t.call(this,e)).renderCityListItem=function(e,t){var a=n.state.renderableCities[e];return o.a.createElement(w,{name:a.city,state:a.state,date:new Date(a.date),cases:a.totalCases,deaths:a.deaths,key:t})},n.onSliderChangeEndedAsync=function(){var e=Object(d.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=S(n.state.initialDate,parseInt(t)),n.state.map.setFilter("covid-heatmap",["<=",["number",["get","timestamp"]],a.getTime()]),n.state.map.setFilter("covid-heatmap-death",["<=",["number",["get","timestamp"]],a.getTime()]),n.state.map.setFilter("covid-point",["==",["number",["get","timestamp"]],a.getTime()]),n.updateVisibleCities(),n.props.onSelectedDateChanged&&n.props.onSelectedDateChanged(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAnimateChange=function(e){n.setState({animate:e.target.checked},(function(){n.animatedStep()}))};var i=new Date("2020-02-25");return n.baseUrl=k.BACKEND_URL,n.onSourceLoadBegin=n.props.onSourceLoadBegin,n.onSourceLoadFinished=n.props.onSourceLoadFinished,n.state={lng:e.lng||5,lat:e.lat||34,zoom:e.zoom||2,date:new Date,sliderValue:y(new Date("2020-02-25"),new Date),data:n.props.data,visibleCities:[],renderableCities:[],animate:!1,initialDate:i,maxDays:y(i,new Date),mapType:"infected",loadState:"loading",isMapInteractive:!0},n}return Object(u.a)(a,[{key:"getVisibleOnMap",value:function(){var e=this.state.map.queryRenderedFeatures({layers:["all-cities"]}),t={},a={};if(e){e=e.sort((function(e,t){return new Date(e.date)-new Date(t.date)})).map((function(e){return e.properties}));var n,o=Object(l.a)(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,r=i.city;a.hasOwnProperty(i.date)||(a[i.date]=[]),!t.hasOwnProperty(r)&&i.timestamp<=this.state.date.getTime()&&(t[r]=i),a[i.date].push(i)}}catch(s){o.e(s)}finally{o.f()}return[Object.keys(t).map((function(e){return t[e]})),a]}return[[],[]]}},{key:"updateVisibleCities",value:function(){var e,t,a=this.getVisibleOnMap(),n=Object(v.a)(a,2);e=n[0],t=n[1],this.setState({visibleCities:e,visibleCitiesPerDate:t,renderableCities:e.sort((function(e,t){return e.totalCases-t.totalCases})).reverse()}),this.props.onVisibleCitiesChange&&"loaded"===this.state.loadState&&this.props.onVisibleCitiesChange(e,t)}},{key:"animatedStep",value:function(){var e=this;this.state.animate?(this.setInteractive(!1),O.NotificationManager.info("A intera\xe7\xe3o com o mapa ser\xe1 desetivada enquanto a anima\xe7\xe3o ocorrer.","Anima\xe7\xe3o ativada"),this.state.sliderValue>=this.state.maxDays&&(this.changeSlider(0),this.onSliderChangeEndedAsync(0)),this.animateTimeout=setInterval((function(){e.state.sliderValue<=e.state.maxDays?(e.changeSlider(e.state.sliderValue+1),e.onSliderChangeEndedAsync(e.state.sliderValue+1)):(e.changeSlider(0),e.onSliderChangeEndedAsync(0))}),4e3)):this.animateTimeout&&("loaded"===this.state.loadState&&this.setInteractive(!0),clearInterval(this.animateTimeout))}},{key:"changeSlider",value:function(e){var t=parseInt(e),a=S(this.state.initialDate,t);this.setState({sliderValue:t,date:a})}},{key:"handleMapTypeChange",value:function(e){this.setState({mapType:e.target.value});var t="covid-heatmap-death",a="covid-heatmap";"infected"===e.target.value?(this.state.map.setLayoutProperty(a,"visibility","visible"),this.state.map.setLayoutProperty(t,"visibility","none")):(this.state.map.setLayoutProperty(a,"visibility","none"),this.state.map.setLayoutProperty(t,"visibility","visible"))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:this.props.containerStyle},o.a.createElement("div",{className:"console"},o.a.createElement("h1",{className:"consoleTitle"},"Mapa de calor: COVID-19 no Brasil"),o.a.createElement("div",{className:"session sliderbar"},o.a.createElement("label",null,o.a.createElement("span",{style:{fontSize:"1.1em"}}," At\xe9 o dia ",o.a.createElement("strong",null,C(this.state.date))," ",function(){var t=y(e.state.date,new Date);return 0===t?o.a.createElement("span",null,"(hoje)"):1===t?o.a.createElement("span",null,"(ontem)"):o.a.createElement("span",null,"(h\xe1 ",o.a.createElement("strong",null,t)," dias)")}()),o.a.createElement("input",{className:"slider row",type:"range",min:"0",max:this.state.maxDays,step:"1",value:this.state.sliderValue,onChange:function(t){return e.changeSlider(t.target.value)},onMouseUp:function(t){return e.onSliderChangeEndedAsync(t.target.value)}})),o.a.createElement("form",null,o.a.createElement("label",null,o.a.createElement("input",{name:"animate",type:"checkbox",checked:this.state.animate,onChange:this.handleAnimateChange}),"Animar"))),o.a.createElement("form",null,o.a.createElement("label",null,o.a.createElement("input",{type:"radio",value:"infected",checked:"infected"===this.state.mapType,onChange:function(t){return e.handleMapTypeChange(t)}}),"Casos"),o.a.createElement("span",null," | "),o.a.createElement("label",null,o.a.createElement("input",{type:"radio",value:"death",checked:"death"===this.state.mapType,onChange:function(t){return e.handleMapTypeChange(t)}}),"\xd3bitos")),o.a.createElement("div",null),o.a.createElement("div",null,o.a.createElement("div",{className:"cityList"},this.state.renderableCities.length>0?o.a.createElement(b.a,{itemRenderer:this.renderCityListItem,length:this.state.renderableCities.length,type:"uniform",pageSize:3}):o.a.createElement("p",{style:{textAlign:"center",fontStyle:"italic"}},"(Use o zoom e a navega\xe7\xe3o pelo mapa para ver os detalhes de cada localidade.)"))),o.a.createElement("div",{style:{color:"gray",fontSize:"0.5em",bottom:0,position:"absolute"}},o.a.createElement("p",null,o.a.createElement("span",null,o.a.createElement("strong",null,"Zoom: "),this.state.zoom),o.a.createElement("span",null," | "),o.a.createElement("span",null,o.a.createElement("strong",null,"Centro: "),this.state.lat,", ",this.state.lng),o.a.createElement("span",null," | "),o.a.createElement("span",null,o.a.createElement("strong",null,"Cidades vis\xedveis: "),this.state.visibleCities.length)))),o.a.createElement("div",{style:this.props.style,ref:function(t){return e.mapContainer=t}}))}},{key:"setInteractive",value:function(e,t){var a=t||this.state.map;e?(a.boxZoom.enable(),a.scrollZoom.enable(),a.dragPan.enable(),a.dragRotate.enable(),a.keyboard.enable(),a.doubleClickZoom.enable(),a.touchZoomRotate.enable()):(a.boxZoom.disable(),a.scrollZoom.disable(),a.dragPan.disable(),a.dragRotate.disable(),a.keyboard.disable(),a.doubleClickZoom.disable(),a.touchZoomRotate.disable()),this.setState({isMapInteractive:e})}},{key:"componentDidMount",value:function(){var e=this;this.onSourceLoadBegin&&this.onSourceLoadBegin();var t=new f.a.Map({container:this.mapContainer,style:"mapbox://styles/aest/ck93dlpxn00v21imgp8zz3y6x?optimize=true",center:[this.state.lng,this.state.lat],zoom:this.state.zoom,minPitch:0,maxPitch:0,pitchWithRotate:!1,logoPosition:"bottom-right"});this.setState({map:t}),this.setInteractive(!1,t),t.on("move",(function(){e.setState({lng:t.getCenter().lng.toFixed(4),lat:t.getCenter().lat.toFixed(4),zoom:t.getZoom().toFixed(2)})})),t.on("load",(function(){t.addSource("covid",{type:"geojson",data:"".concat(e.baseUrl,"/api/v1/br/cities.geojson")}),t.addSource("covid-cities-daily",{type:"geojson",data:"".concat(e.baseUrl,"/api/v1/br/cities-daily.geojson")}),t.on("moveend",(function(){e.updateVisibleCities()})),t.addLayer({id:"covid-heatmap-death",type:"heatmap",source:"covid",visibility:"none",paint:{"heatmap-weight":["interpolate",["linear"],["number",["get","newDeaths"]],0,0,20,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(255,237,68,0)",.1,"#E75151",.2,"#D34848",.3,"#BF3F3F",.4,"#972D2D",.5,"#9e001f",.6,"#832424",.7,"#6F1B1B",.8,"#5B1212",.9,"#470909",1,"#330000"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,15,0]}},"waterway-label"),t.addLayer({id:"covid-heatmap",type:"heatmap",source:"covid",paint:{"heatmap-weight":["interpolate",["linear"],["number",["get","newCases"]],0,0,20,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0,0,0,0)",.1,"#007083",.2,"#009a94",.3,"#00c385",.4,"#fdfd25",.5,"#fdd525",.6,"#fd9f25",.7,"#fd6625",.8,"#e6441c",.9,"#E34519",1,"#c9240e"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,15,0]}},"waterway-label"),t.addLayer({id:"covid-point",type:"circle",source:"covid-cities-daily",minzoom:8,paint:{"circle-radius":["interpolate",["linear"],["zoom"],7,["interpolate",["linear"],["number",["get","totalCases"]],1,1,6,4],16,["interpolate",["linear"],["number",["get","totalCases"]],1,5,6,50]],"circle-color":["interpolate",["linear"],["number",["get","totalCases"]],1,"rgba(33,102,172,0)",2,"rgb(178,24,43)"],"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":["interpolate",["linear"],["zoom"],7,0,8,1]}},"waterway-label"),t.addLayer({id:"all-cities",type:"circle",source:"covid",minzoom:2.8,paint:{"circle-color":"rgba(0,0,0,0)","circle-stroke-width":0}})})),t.on("idle",(function(){e.onSourceLoadFinished&&!e.state.animate&&e.onSourceLoadFinished(),"loading"===e.state.loadState&&(e.setState({loadState:"loaded"}),e.setInteractive(!0,t),e.updateVisibleCities())}))}}]),a}(n.Component),z=a(189),P=function(e){var t=e.children,a=e.url,n=e.text,i=e.style,r=e.target,l=void 0===r?"_blank":r;return t?o.a.createElement("a",{href:a,style:i,target:l},t):n?o.a.createElement("a",{href:a,style:i,target:l},n):o.a.createElement("a",{href:a,style:i,target:l},a)};function L(){return o.a.createElement("div",{className:"footer"},o.a.createElement("strong",{style:{fontSize:"1.2em"}},"Importante:"),o.a.createElement("p",null,o.a.createElement("strong",null,"Este \xe9 apenas um experimento em visualiza\xe7\xe3o de dados.")),o.a.createElement("p",null,"N\xe3o sou especialista em visualiza\xe7\xe3o de dados nem em dissemina\xe7\xe3o de doen\xe7as, ent\xe3o n\xe3o confie nos dados deste site, \xe9 apenas uma tentativa de visualizar a dissemina\xe7\xe3o da doen\xe7a e pode (certamente n\xe3o) corresponder com a realdade."),o.a.createElement("p",null,"Ent\xe3o lembre-se de considerar que qualquer dado pode parecer mais ou menos alarmante dependendo da forma como \xe9 apresentado e que eu n\xe3o tenho a compet\xeancia necess\xe1ria para availiar isso de forma totalmente correta."),o.a.createElement("p",null,"Sugest\xf5es ou corre\xe7\xf5es podem ser enviadas pelo GitHub (link a seguir)."),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("strong",null,"Meu perfil no GitHub:  "),o.a.createElement(P,{url:"https://github.com/ALREstevam"})),o.a.createElement("p",null,o.a.createElement("strong",null,"Reposit\xf3rios deste projeto no GitHub:  "),o.a.createElement(P,{url:"https://github.com/ALREstevam/covid19-br-vis-back"}),o.a.createElement("span",null," e "),o.a.createElement(P,{url:"https://github.com/ALREstevam/covid19-br-vis-back"}),o.a.createElement("span",null,".")))}var I=a(190);function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"string"===typeof e||e instanceof String?e:Number.isInteger(e)?e.toString():Number(e).toFixed(t).toString()}var j=function(e){var t=0;return function(a){return(t+=1)%e===0?(t=0,a):""}}(3),B=function(e){var t=e.data,a=e.colors,n=void 0===a?{scheme:"set3"}:a,i=e.stacked,r=void 0!==i&&i;return o.a.createElement(I.a,{data:t,margin:{top:50,right:120,bottom:100,left:90},tooltip:function(e){var a=0,n=Number.parseInt(e.point.id.split(".")[1]);n>0&&(a=t.filter((function(t){return t.id===e.point.serieId}))[0].data[n-1].y);var i=e.point.data.yFormatted-a,r=T(i);return r=i>=0?"+".concat(r):"".concat(r),o.a.createElement("div",{style:{color:e.point.serieColor,backgroundColor:"#fff",padding:"5px",border:"1px solid ".concat(e.point.borderColor),textAlign:"center",borderRadius:"5px",boxShadow:"5px 5px 10px -7px rgba(0,0,0,0.75)"}},o.a.createElement("strong",{style:{fontSize:".9em"}},e.point.data.xFormatted),o.a.createElement("br",null),o.a.createElement("span",null,e.point.serieId,": ",o.a.createElement("strong",null,e.point.data.yFormatted),o.a.createElement("br",null),o.a.createElement("span",null," (",r,")")))},xScale:{type:"time",format:"%Y-%m-%dT%H:%M:%S"},xFormat:"time:%m/%d",yFormat:T,curve:"natural",yScale:{type:"linear",min:0,max:"auto",stacked:r,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Tempo",legendOffset:36,legendPosition:"middle",format:"%d/%m"},axisLeft:{legend:"Pessoas",orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legendOffset:-40,legendPosition:"middle"},colors:n,pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enablePointLabel:!0,pointLabel:function(e){return j(T(e.y,4))},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-left",direction:"row",justify:!1,translateX:0,translateY:90,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},M=function e(){Object(m.a)(this,e),this.constructDataset=function(e,t){var a=Object.keys(e).filter((function(e){return t.setHours(0,0,0,0)>new Date(e).setHours(0,0,0,0)})).sort((function(e,t){return new Date(e)-new Date(t)})).map((function(t){return e[t].reduce((function(e,a){return{date:t,deaths:e.deaths+a.deaths,newCases:e.newCases+a.newCases,newDeaths:e.newDeaths+a.newDeaths,totalCases:e.totalCases+a.totalCases}}),{date:void 0,deaths:0,newCases:0,newDeaths:0,totalCases:0})})),n={id:"Casos",color:"#61cdbb",data:a.map((function(e){return{x:e.date,y:e.totalCases}}))},o={id:"\xd3bitos",color:"#f47560",data:a.map((function(e){return{x:e.date,y:e.deaths}}))};function i(e){var t,a=[],n=[],o=Object(l.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(n.push(i),2===n.length){var r=0===n[0].y?1:n[1].y/n[0].y;a.push({x:i.x,y:r}),n=[i]}}}catch(s){o.e(s)}finally{o.f()}return a}return{deaths:o,cases:n,casesGrowthFactor:{id:"GR casos",color:"#f47560",data:i(n.data)},deathGrowthFactor:{id:"GR \xf3bitos",color:"#f47560",data:i(o.data)}}}},A=function(e,t){if(0===Object.keys(e).length)return t;var a=e[Object.keys(e)[0]],n=Array.from(new Set(a.map((function(e){return e.state}))));if(a.length>350||n.length>=25)return"todo o Brasil";if(a.length>40){var o=n.slice(0,3);return n.length-3>1?"parte de "+o.join(", ")+" e outros "+(n.length-3)+" estados":n.length-3===1?"parte de "+o.join(", ")+" e outro estado":3===o.length?o.join(", "):2===o.length?o.join(" e "):o[0]}var i=a.map((function(e){return e.city})).filter((function(e){return"CASO SEM LOCALIZA\xc7\xc3O DEFINIDA"!==e})),r=i.slice(0,3);return i.length-3>1?r.join(", ")+" e outras "+(i.length-3)+" cidades":i.length-3===1?r.join(", ")+" e outra cidade":3===r.length?r.join(", "):2===r.length?r.join(" e "):r[0]},F=function(){return o.a.createElement("div",{className:"scrollButtons"},o.a.createElement("div",{className:"scrollButton",onClick:function(){document.documentElement.scrollTop=document.body.scrollTop=(window.pageYOffset||document.documentElement.scrollTop)-500}},o.a.createElement("span",null,"\u02c4")),o.a.createElement("div",{className:"scrollButton",onClick:function(){document.documentElement.scrollTop=document.body.scrollTop=(window.pageYOffset||document.documentElement.scrollTop)+500}},o.a.createElement("span",null,"\u02c5")))},N=function(){return o.a.createElement("div",{className:"nivoCharts"},o.a.createElement("h3",null,"Fator de crescimento"),o.a.createElement("p",null,"O ",o.a.createElement("strong",null,"Fator de Crescimento")," (ou ",o.a.createElement("em",null,"Growth Factor"),") \xe9 calculado pela divis\xe3o ",o.a.createElement("code",null,"ValorDia/ValorDiaAnterior")," e reflete o crescimento di\xe1rio no n\xfamero de casos e \xf3bitos computados:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("code",null,"Fator de Crescimento",o.a.createElement("strong",null," > "),"0"),": o valor referido aumentou desde o \xfaltimo dia"),o.a.createElement("li",null,o.a.createElement("code",null,"Fator de Crescimento",o.a.createElement("strong",null," < "),"0"),": o valor referido diminuiu desde o \xfaltimo dia"),o.a.createElement("li",null,o.a.createElement("code",null,"Fator de Crescimento",o.a.createElement("strong",null," \u2248 "),"0"),": o valor referido n\xe3o mudou significativamente desde o \xfaltimo dia")),o.a.createElement("p",null,"O fator de crescimento \xe9 uma importante m\xe9trica na avalia\xe7\xe3o da dissemina\xe7\xe3o da doen\xe7a e ocorr\xeancia de mortes, mas \xe9 totalmente dependente da testagem em massa da popula\xe7\xe3o e da confirma\xe7\xe3o da causa dos \xf3bitos onde h\xe1 suspeita de COVID-19, assim, um aumento ou diminui\xe7\xe3o neste fator pode ocorrer caso a quantidade de testes realizados mude e n\xe3o somente se a quantidade de pessoas infectadas ou \xf3bitos confirmados se alterar."))},_=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).complete=function(){n.setState({loadingBarProgress:100}),n.clearIntervals()},n.onMapLoadedHandler=function(){n.complete(),n.updatePlots()},n.onLoaderFinished=function(){n.setState({loadingBarProgress:0})},n.infiniteLoad=function(){n.setState({loadingBarProgress:n.state.loadingBarProgress+Math.round(5+5*Math.random())}),n.timers.push(setInterval((function(){n.setState({loadingBarProgress:n.state.loadingBarProgress+Math.round(5*Math.random())})}),1200))},n.visibleCitiesChangeHandler=function(){var e=Object(d.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({visibleCities:t,visibleCitiesPerDate:a}),n.updatePlots();case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.updatePlots=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({perDayChartData:n.nivoDataset.constructDataset(n.state.visibleCitiesPerDate,n.state.selectedDate),perDateChartName:"COVID-19 em "+A(n.state.visibleCitiesPerDate,"todo o Brasil")});case 1:case"end":return e.stop()}}),e)}))),n.selectedDateChangedHandler=function(e){n.setState({selectedDate:e})},n.nivoDataset=new M,n.timers=[],n.state={covidCasesGeoJson:void 0,covidCasesJson:void 0,loadingBarProgress:0,visibleCities:[],visibleCitiesPerDate:{},selectedDate:new Date,perDayChartData:n.nivoDataset.constructDataset({},new Date),perDateChartName:"COVID-19 em todo o Brasil"},n}return Object(u.a)(a,[{key:"clearIntervals",value:function(){var e,t=Object(l.a)(this.timers);try{for(t.s();!(e=t.n()).done;){var a=e.value;clearInterval(a)}}catch(n){t.e(n)}finally{t.f()}}},{key:"add",value:function(e){this.setState({loadingBarProgress:this.state.loadingBarProgress+e})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(z.a,{progress:this.state.loadingBarProgress,height:3,color:"red",onLoaderFinished:this.onLoaderFinished}),o.a.createElement(F,null),o.a.createElement(x,{style:{right:0,left:0,height:"95vh",width:"100%"},data:this.state.covidCasesGeoJson,zoom:3,lat:-13.5958,lng:-54.4587,onSourceLoadBegin:this.infiniteLoad,onSourceLoadFinished:this.onMapLoadedHandler,onVisibleCitiesChange:this.visibleCitiesChangeHandler,onSelectedDateChanged:this.selectedDateChangedHandler}),o.a.createElement("div",{className:"nivoCharts"},o.a.createElement("h2",null,this.state.perDateChartName),o.a.createElement("h3",null,"Casos e \xf3bitos"),o.a.createElement("div",{style:{width:"100%",height:"80vh"}},o.a.createElement(B,{data:[this.state.perDayChartData.deaths,this.state.perDayChartData.cases],colors:["#fa4343","#0068d2"],stacked:!0})),o.a.createElement("h3",null,"\xd3bitos"),o.a.createElement("div",{style:{width:"100%",height:"50vh"}},o.a.createElement(B,{data:[this.state.perDayChartData.deaths],colors:["#fa4343"]})),o.a.createElement(N,null),o.a.createElement("div",{style:{width:"100%",height:"80vh"}},o.a.createElement(B,{data:[this.state.perDayChartData.casesGrowthFactor],colors:["#00d3eb"]})),o.a.createElement("div",{style:{width:"100%",height:"80vh"}},o.a.createElement(B,{data:[this.state.perDayChartData.deathGrowthFactor],colors:["#ff6a7f"]}))),o.a.createElement("div",{style:{marginLeft:50,marginRight:50}},o.a.createElement("hr",null),o.a.createElement("p",null,"Fonte de dados para o mapa e os gr\xe1ficos: ",o.a.createElement("a",{href:"https://covid19br.wcota.me/"},"N\xfamero de casos confirmados de COVID-19 no Brasil"))),o.a.createElement(L,null))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.clearIntervals()}}]),a}(n.Component);a(396);var V=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(O.NotificationContainer,null),o.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[237,1,2]]]);
//# sourceMappingURL=main.bc9d67f4.chunk.js.map